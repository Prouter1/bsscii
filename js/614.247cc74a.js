"use strict";(self["webpackChunkfans_indexer_web"]=self["webpackChunkfans_indexer_web"]||[]).push([[614],{6614:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var n=a(6252),o=a(3577),l=a(2262),r=a(5121),s=a(381),i=a.n(s),u=a(2201),p=a(9996),d=a(4960);const c={style:{height:"60px",width:"40%",margin:"0 auto"}},h={style:{width:"60vw","border-radius":"5px",background:"#fff",border:"1px solid #ddd",padding:"30px",margin:"0 auto 50px"}},w={style:{"padding-bottom":"10px"}},_=["href"],f={style:{color:"#f1b90a"}},m=["href"],g=["href"],v={key:1},b=["href"],x={key:1},y={style:{display:"flex","justify-content":"center","margin-top":"30px"}},k=15;var H={__name:"Home",setup(e){const t=(0,d.o)(),a=(0,l.iH)([]),s=(0,l.iH)(0),H=(0,l.iH)(1),z=(0,l.iH)(""),W=(0,l.iH)(0),D=(0,l.iH)(0),C=(0,l.iH)(!1),M=(0,l.iH)(0),Y=(0,u.tv)(),B=async()=>{C.value=!0;let e="https://fansgo.xyz/api/v1/transfer?page_size="+k+"&page="+H.value;await r.Z.get(e).then((e=>{let t=e.data;s.value=t.total_count;let n=[],o=i()();t.transfers.forEach((e=>{let t=i()(1e3*e.time).format("YYYY-MM-DD HH:mm:ss"),a=i().duration(o.diff(t));e.date=i().duration(-a.asMilliseconds()).humanize(!0),e.s_from=e.from.slice(0,7)+"..."+e.from.slice(-5),e.s_to=e.to.slice(0,7)+"..."+e.to.slice(-5),e.s_tx_hash=e.tx_hash.slice(0,7)+"..."+e.tx_hash.slice(-5),e.s_amount=BigInt(e.amount).toLocaleString("en-US"),e.inscription_id="#"+e.inscription_id,n.push({...e})})),a.value=n,console.log(n)})).catch((e=>{console.log(e),(0,p.bM)({title:"Error",message:e,offset:80})})),C.value=!1},E=async()=>{let e="https://fansgo.xyz/api/v1/minted";await r.Z.get(e).then((e=>{let a=e.data;W.value=a.minted,t.mintedCount=a.minted,D.value=a.owner_count,M.value=a.current_height})).catch((e=>{console.log(e)}))};(0,n.bv)((()=>{B(),E()}));const S=async e=>{await B()},U=async()=>{""!==z.value&&Y.push({path:"/inscription",query:{owner:z.value}})};return(e,t)=>{const l=(0,n.up)("el-button"),r=(0,n.up)("el-input"),i=(0,n.up)("el-table-column"),u=(0,n.up)("el-table"),p=(0,n.up)("el-pagination"),d=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",c,[(0,n.Wm)(r,{style:{height:"40px"},modelValue:z.value,"onUpdate:modelValue":t[0]||(t[0]=e=>z.value=e),placeholder:"input address..."},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{onClick:U},{default:(0,n.w5)((()=>[(0,n.Uk)("Search")])),_:1})])),_:1},8,["modelValue"])]),(0,n._)("div",h,[(0,n._)("div",w,"Transferred: "+(0,o.zw)(s.value)+"+  |  Minted: "+(0,o.zw)(W.value)+"/21000000  |  Holders: "+(0,o.zw)(D.value)+"  |  Block Height: "+(0,o.zw)(M.value),1),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{data:a.value,"row-style":"height: 50px",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{prop:"inscription_id",label:"Inscriptions",width:"110"},{default:(0,n.w5)((e=>[(0,n._)("a",{href:"https://opbnb.bscscan.com/tx/"+e.row.inscription_hash,target:"_blank"},(0,o.zw)(e.row.inscription_id),9,_)])),_:1}),(0,n.Wm)(i,{prop:"event",label:"Event",width:"80"},{default:(0,n.w5)((e=>[(0,n._)("span",f,(0,o.zw)(e.row.event),1)])),_:1}),(0,n.Wm)(i,{prop:"s_from",label:"From"},{default:(0,n.w5)((e=>[(0,n._)("a",{href:"https://opbnb.bscscan.com/address/"+e.row.from,target:"_blank"},(0,o.zw)(e.row.s_from),9,m)])),_:1}),(0,n.Wm)(i,{prop:"s_to",label:"To"},{default:(0,n.w5)((e=>["sale"===e.row.event||"transfer"===e.row.event||"bundle"===e.row.event?((0,n.wg)(),(0,n.iD)("a",{key:0,href:"https://opbnb.bscscan.com/address/"+e.row.to,target:"_blank"},(0,o.zw)(e.row.s_to),9,g)):((0,n.wg)(),(0,n.iD)("span",v,"-"))])),_:1}),(0,n.Wm)(i,{prop:"s_amount",label:"Amount"}),(0,n.Wm)(i,{prop:"date",label:"Date",width:"150"}),(0,n.Wm)(i,{prop:"s_tx_hash",label:"Explorer"},{default:(0,n.w5)((e=>["list"!==e.row.event?((0,n.wg)(),(0,n.iD)("a",{key:0,href:"https://opbnb.bscscan.com/tx/"+e.row.tx_hash,target:"_blank"},"opBNBScan",8,b)):((0,n.wg)(),(0,n.iD)("span",x,"-"))])),_:1})])),_:1},8,["data"])),[[d,C.value]]),(0,n._)("div",y,[(0,n.Wm)(p,{background:"","current-page":H.value,"onUpdate:currentPage":t[1]||(t[1]=e=>H.value=e),"default-page-size":k,onCurrentChange:S,layout:"prev, pager, next",total:s.value},null,8,["current-page","total"])])])],64)}}};const z=H;var W=z}}]);
//# sourceMappingURL=614.247cc74a.js.map